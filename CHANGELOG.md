# 更新日志

## v1.1.0 (2024-11-19)

### ✨ 重大改进：划词翻译优化

**从自动翻译改为按需翻译**
- 选中文字后显示「🌐 翻译」按钮
- 用户点击按钮后才开始翻译
- 更加精准可控，避免误触
- 节省 API 调用，提升性能

### 🎨 样式精简

**移除无用样式：**
- 移除复杂的渐变动画
- 移除旋转和缩放效果
- 精简 CSS 代码（从 315 行减少到 268 行）
- 优化颜色方案，提高可读性

**新的设计：**
- 简洁的翻译按钮（紫色，圆角）
- 清爽的翻译气泡（白色背景，柔和阴影）
- 更好的视觉层次

### 🔧 功能精简

**移除的功能：**
- 语音朗读功能（使用频率低）
- 复杂的动画效果
- 多余的图标和按钮

**保留的核心功能：**
- 划词翻译（改为按需触发）
- 自定义输入翻译
- 语言选择和交换
- 复制译文
- 快捷键支持

### 📊 代码优化

- HTML: 96 行 → 88 行（-8.3%）
- CSS: 315 行 → 268 行（-14.9%）
- JS: 225 行 → 171 行（-24.0%）
- 总体代码减少约 15%

### 🚀 性能提升

- 减少 DOM 操作
- 移除不必要的动画计算
- 优化事件监听
- 提升响应速度

### 📖 新的使用方式

**划词翻译：**
1. 选中文字 → 2. 点击翻译按钮 → 3. 查看结果

**弹出窗口：**
保持原有使用方式不变

---

## v1.0.1 (2024-11-19)

### 🐛 Bug 修复

**修复了 MyMemory API 的 'auto' 语言错误**

- **问题**：MyMemory 翻译 API 不支持 'auto' 自动检测语言，导致翻译失败
- **错误信息**：`'AUTO' IS AN INVALID SOURCE LANGUAGE`

### ✨ 改进

1. **添加智能语言检测**
   - 自动识别中文、日文、韩文、俄文等语言
   - 基于 Unicode 字符范围的精准检测
   - 默认将未识别文本视为英文

2. **优化翻译 API 优先级**
   - Google Translate（首选，支持 auto）
   - LibreTranslate（备选，支持 auto）
   - MyMemory（最后，现在会自动检测语言）

3. **改进错误处理**
   - 更详细的中文错误提示
   - API 失败时自动尝试下一个服务
   - 记录最后一个错误信息

### 🔧 技术细节

**语言检测支持：**
- 🇨🇳 中文：`/[\u4e00-\u9fa5]/`
- 🇯🇵 日文：`/[\u3040-\u309f\u30a0-\u30ff]/`
- 🇰🇷 韩文：`/[\uac00-\ud7af]/`
- 🇷🇺 俄文：`/[\u0400-\u04ff]/`
- 🇸🇦 阿拉伯文：`/[\u0600-\u06ff]/`
- 🇬🇧 英文：默认

**API 调用策略：**
```javascript
1. Google Translate（支持 auto）
   ↓ 失败
2. LibreTranslate（支持 auto）
   ↓ 失败
3. MyMemory（使用检测到的语言）
```

### 📝 使用说明

现在你可以：
1. ✅ 在网页上选中任何语言的文字进行翻译
2. ✅ 在弹出窗口选择"自动检测"来翻译任意语言
3. ✅ 无需担心语言识别问题

### 🚀 如何更新

如果你已经安装了插件：

1. 打开 `chrome://extensions/`
2. 找到「Simple AI Translate」插件
3. 点击刷新按钮 🔄
4. 完成！

或者：
- 直接重新加载插件文件夹

---

## v1.0.0 (2024-11-19)

### 🎉 首次发布

- ✅ 网页划词翻译
- ✅ 自定义输入翻译
- ✅ 支持 8 种语言
- ✅ 复制和朗读功能
- ✅ 现代化 UI 设计
- ✅ 快捷键支持

